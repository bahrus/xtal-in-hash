(function(){const a='xtal-in-hash';if(!customElements.get(a)){class b extends HTMLElement{constructor(){super(...arguments),this.regExp=/(.*)xtal-in-hash:json```(.*)```(.*)/,this.propertyEventListeners={}}get bind(){return this._bind}set bind(a){a?this.setAttribute('bind',''):this.removeAttribute('bind')}get childProps(){return this._childProps}set childProps(a){a?this.setAttribute('child-props',''):this.removeAttribute('child-props')}get from(){return this._from}set from(a){a?this.setAttribute('from',''):this.removeAttribute('from')}get locationHash(){return this._locationHash}set locationHash(a){a?this.setAttribute('location-hash',''):this.removeAttribute('location-hash')}get set(){return this._set}set set(a){a?this.setAttribute('set',''):this.removeAttribute('set')}get showUsage(){return this._showUsage}set showUsage(a){a?this.setAttribute('show-usage',''):this.removeAttribute('show-usage')}get toFrom(){return this._toFrom}set toFrom(a){a?this.setAttribute('to-from',''):this.removeAttribute('to-from')}get topLocationHash(){return this._topLocationHash}set topLocationHash(a){a?this.setAttribute('top-location-hash',''):this.removeAttribute('top-location-hash')}static get observedAttributes(){return['bind','child-props','from','location-hash','top-location-hash','set','show-usage','to-from']}static get is(){return a}_upgradeProperty(a){if(this.hasOwnProperty(a)){let b=this[a];delete this[a],this[a]=b}}snakeToCamel(a){return a.replace(/(\-\w)/g,function(a){return a[1].toUpperCase()})}attributeChangedCallback(a,b,c){this['_'+this.snakeToCamel(a)]=null!==c,this.onPropsChange()}onPropsChange(){if(this.set&&this.childProps&&this.from&&(this.locationHash||this.topLocationHash)){const a=this,b=this.topLocationHash?window.top:window;b.addEventListener('hashchange',()=>{a.setPropsFromLocationHash()}),this.previousHash||this.setPropsFromLocationHash()}else if(this.bind&&this.childProps&&this.toFrom&&(this.locationHash||this.topLocationHash)){const a=this,b=this.topLocationHash?window.top:window;b.addEventListener('hashchange',()=>{a.bindPropsToFromLocationHash()}),this.previousHash||this.bindPropsToFromLocationHash()}}connectedCallback(){b.observedAttributes.forEach((a)=>{this._upgradeProperty(this.snakeToCamel(a))})}disconnectedCallback(){const a=this,b=this.topLocationHash?window.top:window;b.removeEventListener('hashchange',()=>{a.setPropsFromLocationHash()})}setPropsFromLocationHash(){const a=this.topLocationHash?window.top:window,b=a.location.hash;if(b===this.previousHash)return;this.previousHash=b;const c=b.split(this.regExp);if(!c||5!==c.length)return;const d=JSON.parse(c[2]),e=this.querySelectorAll('[hash-tag]');if(e&&0!==e.length)return e.forEach((a)=>Object.assign(a,d)),{locationHashObj:d,targets:e}}bindPropsToFromLocationHash(){const a=this.setPropsFromLocationHash();if(!a)return;const b=a.locationHashObj,c=a.targets;for(var d in b)if(!this.propertyEventListeners[d]){this.propertyEventListeners[d]=!0;const a=Polymer.CaseMap.camelToDashCase(d);for(let e=0,f=c.length;e<f;e++){const f=c[e];f.addEventListener(a+'-changed',(a)=>{b[d]=a.detail.value;const c=JSON.stringify(b),e=this.topLocationHash?window.top:window,f=e.location.hash,g=f.split(this.regExp);if(g&&5===g.length){g[2]='xtal-in-hash:json```'+c+'```';g.join('');e.location.hash=g.join('')}})}}}}customElements.define(b.is,b)}})();